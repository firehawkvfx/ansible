---
- hosts: ansible_control
  become: true

  # vars_prompt:
  #   - name: "my_password"
  #     prompt: "Enter password for new deadlineuser"
  #     private: yes
  #     encrypt: "sha512_crypt"
  #     confirm: yes
  #     salt_size: 7

  #   - name: "deadline_linux_installers_tar"
  #     prompt: "What is the path to the deadline linux installers .tar?"
  #     default: "/vagrant/downloads/Deadline-10.0.23.4-linux-installers.tar"
  #     private: no
  vars:
    my_password: "{{ user_deadlineuser_pw }}"
    no_extension: "{{ deadline_linux_installers_tar | splitext | first }}"
    basename: "{{ no_extension.split('/')[-1] }}"
    
  roles:
    - role: newuser
    #- role: terraform
    - role: deadlinedb
    - role: deadlinercs
    - role: aws-cli