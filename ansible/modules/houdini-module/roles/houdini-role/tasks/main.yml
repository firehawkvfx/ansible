---
# tasks file for roles/houdini-module

- name: configure packages, permsissions and scripts
  include: packages-and-permissions.yml

- name: install houdini for items in list
  include: houdini-install.yml
  loop: "{{ houdini_version_list }}"
  loop_control:
    loop_var: houdini_version_item
  when: houdini_install_type != "server"

- name: install houdini server for items in list
  include: houdini-install.yml
  loop: "{{ houdini_license_server_version_list }}"
  loop_control:
    loop_var: houdini_version_item
  when: houdini_install_type == "server"

- name: configure houdini.env and deadline for items in list
  include: houdini-env-config.yml
  loop: "{{ houdini_version_list }}"
  loop_control:
    loop_var: houdini_version_item
  when: houdini_install_type != "server"

- name: configure houdini and deadline config
  include: houdini-deadline-config.yml
  when: houdini_install_type != "server"